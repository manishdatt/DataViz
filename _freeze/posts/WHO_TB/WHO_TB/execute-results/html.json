{
  "hash": "1781edf81ef4f92af877f7edf5b2ae01",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: WHO TB Burden Data\nmarimo-version: 0.17.0\nauthor: Manish Datt\ndate: '2025-11-11'\niso-date: '2025-11-11'\ndescription: >-\n  Timeline of global incidence and mortality.\nimage: WHO_TB.png\ncategories:\n- lineplot\n- TidyTuesday\n- PyDyTuesday\nslug: 25B2\nfilters:\n- marimo-team/marimo\n---\n\n# TidyTuesday dataset of [{{<meta date>}}](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/{{<meta iso-date>}})\n\n::: {#abd57cc3 .cell execution_count=1}\n``` {.python .cell-code}\nimport marimo as mo\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nfrom matplotlib.ticker import FuncFormatter\n```\n:::\n\n\n::: {#54fe34cd .cell execution_count=2}\n``` {.python .cell-code}\nwho_tb_data = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-11-11/who_tb_data.csv')\nwho_tb_data\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>g_whoregion</th>\n      <th>iso_numeric</th>\n      <th>iso2</th>\n      <th>iso3</th>\n      <th>year</th>\n      <th>c_cdr</th>\n      <th>c_newinc_100k</th>\n      <th>cfr</th>\n      <th>e_inc_100k</th>\n      <th>e_inc_num</th>\n      <th>e_mort_100k</th>\n      <th>e_mort_exc_tbhiv_100k</th>\n      <th>e_mort_exc_tbhiv_num</th>\n      <th>e_mort_num</th>\n      <th>e_mort_tbhiv_100k</th>\n      <th>e_mort_tbhiv_num</th>\n      <th>e_pop_num</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Afghanistan</td>\n      <td>Eastern Mediterranean</td>\n      <td>4</td>\n      <td>AF</td>\n      <td>AFG</td>\n      <td>2000</td>\n      <td>19.0</td>\n      <td>35.0</td>\n      <td>0.37</td>\n      <td>190.0</td>\n      <td>38000</td>\n      <td>68.0</td>\n      <td>68.0</td>\n      <td>14000.0</td>\n      <td>14000.0</td>\n      <td>0.17</td>\n      <td>34.0</td>\n      <td>20130323</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Afghanistan</td>\n      <td>Eastern Mediterranean</td>\n      <td>4</td>\n      <td>AF</td>\n      <td>AFG</td>\n      <td>2001</td>\n      <td>26.0</td>\n      <td>50.0</td>\n      <td>0.35</td>\n      <td>189.0</td>\n      <td>38000</td>\n      <td>63.0</td>\n      <td>63.0</td>\n      <td>13000.0</td>\n      <td>13000.0</td>\n      <td>0.30</td>\n      <td>61.0</td>\n      <td>20284311</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Afghanistan</td>\n      <td>Eastern Mediterranean</td>\n      <td>4</td>\n      <td>AF</td>\n      <td>AFG</td>\n      <td>2002</td>\n      <td>34.0</td>\n      <td>65.0</td>\n      <td>0.31</td>\n      <td>189.0</td>\n      <td>40000</td>\n      <td>57.0</td>\n      <td>57.0</td>\n      <td>12000.0</td>\n      <td>12000.0</td>\n      <td>0.27</td>\n      <td>58.0</td>\n      <td>21378110</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Afghanistan</td>\n      <td>Eastern Mediterranean</td>\n      <td>4</td>\n      <td>AF</td>\n      <td>AFG</td>\n      <td>2003</td>\n      <td>32.0</td>\n      <td>61.0</td>\n      <td>0.32</td>\n      <td>189.0</td>\n      <td>43000</td>\n      <td>58.0</td>\n      <td>58.0</td>\n      <td>13000.0</td>\n      <td>13000.0</td>\n      <td>0.29</td>\n      <td>66.0</td>\n      <td>22733047</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Afghanistan</td>\n      <td>Eastern Mediterranean</td>\n      <td>4</td>\n      <td>AF</td>\n      <td>AFG</td>\n      <td>2004</td>\n      <td>41.0</td>\n      <td>78.0</td>\n      <td>0.28</td>\n      <td>189.0</td>\n      <td>44000</td>\n      <td>52.0</td>\n      <td>51.0</td>\n      <td>12000.0</td>\n      <td>12000.0</td>\n      <td>0.29</td>\n      <td>67.0</td>\n      <td>23560660</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>5112</th>\n      <td>Zimbabwe</td>\n      <td>Africa</td>\n      <td>716</td>\n      <td>ZW</td>\n      <td>ZWE</td>\n      <td>2019</td>\n      <td>69.0</td>\n      <td>138.0</td>\n      <td>0.22</td>\n      <td>199.0</td>\n      <td>30000</td>\n      <td>43.0</td>\n      <td>11.0</td>\n      <td>1700.0</td>\n      <td>6500.0</td>\n      <td>31.00</td>\n      <td>4800.0</td>\n      <td>15271376</td>\n    </tr>\n    <tr>\n      <th>5113</th>\n      <td>Zimbabwe</td>\n      <td>Africa</td>\n      <td>716</td>\n      <td>ZW</td>\n      <td>ZWE</td>\n      <td>2020</td>\n      <td>54.0</td>\n      <td>101.0</td>\n      <td>0.24</td>\n      <td>188.0</td>\n      <td>29000</td>\n      <td>44.0</td>\n      <td>13.0</td>\n      <td>2000.0</td>\n      <td>6800.0</td>\n      <td>31.00</td>\n      <td>4800.0</td>\n      <td>15526885</td>\n    </tr>\n    <tr>\n      <th>5114</th>\n      <td>Zimbabwe</td>\n      <td>Africa</td>\n      <td>716</td>\n      <td>ZW</td>\n      <td>ZWE</td>\n      <td>2021</td>\n      <td>52.0</td>\n      <td>103.0</td>\n      <td>0.25</td>\n      <td>199.0</td>\n      <td>31000</td>\n      <td>49.0</td>\n      <td>15.0</td>\n      <td>2300.0</td>\n      <td>7800.0</td>\n      <td>34.00</td>\n      <td>5400.0</td>\n      <td>15797209</td>\n    </tr>\n    <tr>\n      <th>5115</th>\n      <td>Zimbabwe</td>\n      <td>Africa</td>\n      <td>716</td>\n      <td>ZW</td>\n      <td>ZWE</td>\n      <td>2022</td>\n      <td>54.0</td>\n      <td>113.0</td>\n      <td>0.26</td>\n      <td>209.0</td>\n      <td>34000</td>\n      <td>52.0</td>\n      <td>16.0</td>\n      <td>2500.0</td>\n      <td>8400.0</td>\n      <td>37.00</td>\n      <td>5900.0</td>\n      <td>16069054</td>\n    </tr>\n    <tr>\n      <th>5116</th>\n      <td>Zimbabwe</td>\n      <td>Africa</td>\n      <td>716</td>\n      <td>ZW</td>\n      <td>ZWE</td>\n      <td>2023</td>\n      <td>56.0</td>\n      <td>118.0</td>\n      <td>0.24</td>\n      <td>211.0</td>\n      <td>35000</td>\n      <td>48.0</td>\n      <td>14.0</td>\n      <td>2400.0</td>\n      <td>7900.0</td>\n      <td>34.00</td>\n      <td>5500.0</td>\n      <td>16340822</td>\n    </tr>\n  </tbody>\n</table>\n<p>5117 rows × 18 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {#9c616297 .cell execution_count=3}\n``` {.python .cell-code}\nwho_tb_data['g_whoregion'].unique()\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\narray(['Eastern Mediterranean', 'Europe', 'Africa', 'Western Pacific',\n       'Americas', 'South-East Asia'], dtype=object)\n```\n:::\n:::\n\n\n::: {#754bbba6 .cell execution_count=4}\n``` {.python .cell-code}\nwho_tb_data.groupby('country')['c_newinc_100k'].sum().sort_values(ascending=False)\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\ncountry\nEswatini                                                    12982.00\nNamibia                                                     12055.00\nSouth Africa                                                11692.00\nLesotho                                                     10858.00\nBotswana                                                     8117.00\n                                                              ...   \nCuraçao                                                        23.85\nAnguilla                                                       21.90\noccupied Palestinian territory, including east Jerusalem       19.51\nMonaco                                                         11.00\nSan Marino                                                     10.90\nName: c_newinc_100k, Length: 215, dtype: float64\n```\n:::\n:::\n\n\n::: {#524f7618 .cell execution_count=5}\n``` {.python .cell-code}\nsns.lineplot(data=who_tb_data,x='year',y='cfr',hue='g_whoregion')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](WHO_TB_files/figure-html/cell-6-output-1.png){}\n:::\n:::\n\n\n::: {#472bfb1d .cell execution_count=6}\n``` {.python .cell-code}\nbg_color=\"#FFF0FD\"\nfg_color=\"#740C08\"#\"#333333\"\nfg_color2=\"#E484AC\"\npalette='tab20'\nfig, ax  = plt.subplots(1,2, figsize=(12,5), sharey=True)\n#sns.lineplot(data=who_tb_data,x='year',y='c_newinc_100k',hue='g_whoregion',ax=ax[0], legend=False, errorbar='se', estimator=np.sum, palette=['black'] * who_tb_data['g_whoregion'].nunique(), lw=2.5)\nsns.lineplot(data=who_tb_data,x='year',y='c_newinc_100k',hue='g_whoregion',ax=ax[0], legend=False, errorbar='se', estimator=np.sum, palette=palette, lw=2)\n#sns.lineplot(data=who_tb_data,x='year',y='e_mort_100k',hue='g_whoregion',ax=ax[1], errorbar='se', estimator=np.sum, palette=['black'] * who_tb_data['g_whoregion'].nunique(), lw=2.5, legend=False)\nsns.lineplot(data=who_tb_data,x='year',y='e_mort_100k',hue='g_whoregion',ax=ax[1], errorbar='se', estimator=np.sum, palette=palette, lw=2)\n\nsns.despine()\n\n\ndef thousands(x, pos):\n    return f'{int(x/1000)}K'\n\n# Apply to y-axis\nax[1].yaxis.set_major_formatter(FuncFormatter(thousands))\nfor a in ax:\n    a.tick_params(axis='both', colors=fg_color)\n    for spine in a.spines.values():\n        spine.set_color(fg_color2) \n\nax[0].tick_params(axis='y', length=10, direction='inout')\nax[1].tick_params(axis='y', length=10, direction='inout')\nax[1].legend(frameon=False, ncol=2, loc='upper center', bbox_to_anchor=(0.5, 0.9))\n#ax[0].set_title(\"Number of cases\", color=fg_color)\n#ax[1].set_title(\"Number of deaths\", color=fg_color)\nax[0].set_ylabel(\"Number per 100K\", color=fg_color)\nax[0].set_xlabel(\"\")\nax[1].set_xlabel(\"\")\nplt.subplots_adjust(wspace=0)  \nfig.patch.set_facecolor(bg_color)\nax[0].set_facecolor(bg_color)\nax[1].set_facecolor(bg_color)\nfig.suptitle(\"Trends in Tuberculosis Cases (left) and Deaths (right) by WHO Region (2000-2023)\", color=fg_color, fontsize=16, family='serif')\nplt.savefig('WHO_TB.png', dpi=300, bbox_inches='tight')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](WHO_TB_files/figure-html/cell-7-output-1.png){}\n:::\n:::\n\n\n",
    "supporting": [
      "WHO_TB_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}