{
  "hash": "4ad4223f4d92bdacda2574ac07dd927d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: British Literary Prizes\nmarimo-version: 0.17.0\nauthor: Manish Datt\ndate: '2025-10-28'\niso-date: '2025-10-28'\ndescription: >-\n  Distribution of prizes across the highest degree and gender.\nimage: British_prize.png\ncategories:\n- Heatmap\n- TidyTuesday\n- PyDyTuesday\nslug: 25A4\nfilters:\n- marimo-team/marimo\n---\n\n# TidyTuesday dataset of [{{<meta date>}}](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/{{<meta iso-date>}})\n\n::: {#c6ebc29b .cell execution_count=1}\n``` {.python .cell-code}\nimport marimo as mo\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n:::\n\n\n::: {#13bcf873 .cell execution_count=2}\n``` {.python .cell-code}\nprizes = pd.read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-10-28/prizes.csv')\n```\n:::\n\n\n::: {#851bdf72 .cell execution_count=3}\n``` {.python .cell-code}\nprizes\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>prize_id</th>\n      <th>prize_alias</th>\n      <th>prize_name</th>\n      <th>prize_institution</th>\n      <th>prize_year</th>\n      <th>prize_genre</th>\n      <th>person_id</th>\n      <th>person_role</th>\n      <th>last_name</th>\n      <th>first_name</th>\n      <th>...</th>\n      <th>uk_residence</th>\n      <th>ethnicity_macro</th>\n      <th>ethnicity</th>\n      <th>highest_degree</th>\n      <th>degree_institution</th>\n      <th>degree_field_category</th>\n      <th>degree_field</th>\n      <th>viaf</th>\n      <th>book_id</th>\n      <th>book_title</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>1991</td>\n      <td>fiction</td>\n      <td>294</td>\n      <td>shortlisted</td>\n      <td>Amis</td>\n      <td>Martin</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>Bachelors</td>\n      <td>University of Oxford</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>36913662</td>\n      <td>5</td>\n      <td>Time's Arrow</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>James Tait Black Prize for Fiction</td>\n      <td>James Tait Black Prize for Fiction</td>\n      <td>The University of Edinburgh</td>\n      <td>1991</td>\n      <td>fiction</td>\n      <td>33</td>\n      <td>winner</td>\n      <td>Boyd</td>\n      <td>William</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>British</td>\n      <td>unknown</td>\n      <td>University of Oxford</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>111500719</td>\n      <td>36</td>\n      <td>Brazzaville Beach</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>Costa First Novel Award</td>\n      <td>Whitbread First Novel</td>\n      <td>Whitbread</td>\n      <td>1991</td>\n      <td>fiction</td>\n      <td>167</td>\n      <td>winner</td>\n      <td>Burn</td>\n      <td>Gordon</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>none</td>\n      <td>none</td>\n      <td>none</td>\n      <td>none</td>\n      <td>51988764</td>\n      <td>42</td>\n      <td>Alma Cogan</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>1991</td>\n      <td>fiction</td>\n      <td>286</td>\n      <td>shortlisted</td>\n      <td>Doyle</td>\n      <td>Roddy</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Irish</td>\n      <td>Irish</td>\n      <td>Bachelors</td>\n      <td>University College Dublin</td>\n      <td>Multiple</td>\n      <td>English and Geography</td>\n      <td>17301306</td>\n      <td>77</td>\n      <td>The Van</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>4</td>\n      <td>Costa Novel Award</td>\n      <td>Whitbread Novel</td>\n      <td>Whitbread</td>\n      <td>1991</td>\n      <td>fiction</td>\n      <td>168</td>\n      <td>winner</td>\n      <td>Gardam</td>\n      <td>Jane</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>Bachelors</td>\n      <td>University of London</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>70213168</td>\n      <td>114</td>\n      <td>The Queen of the Tambourine</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>947</th>\n      <td>10</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize Trust</td>\n      <td>2022</td>\n      <td>fiction</td>\n      <td>192</td>\n      <td>shortlisted</td>\n      <td>Shafak</td>\n      <td>Elif</td>\n      <td>...</td>\n      <td>True</td>\n      <td>Non-UK White</td>\n      <td>Turkish British</td>\n      <td>Doctorate</td>\n      <td>Middle East Technical University</td>\n      <td>Politics and Economics</td>\n      <td>Political Science</td>\n      <td>64320935</td>\n      <td>367</td>\n      <td>The Island of Missing Trees</td>\n    </tr>\n    <tr>\n      <th>948</th>\n      <td>11</td>\n      <td>Gold Dagger</td>\n      <td>Gold Dagger</td>\n      <td>The Crime Writers' Association</td>\n      <td>2022</td>\n      <td>crime</td>\n      <td>410</td>\n      <td>shortlisted</td>\n      <td>Shaw</td>\n      <td>William</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>unknown</td>\n      <td>unknown</td>\n      <td>unknown</td>\n      <td>unknown</td>\n      <td>NaN</td>\n      <td>521</td>\n      <td>The Trawlerman</td>\n    </tr>\n    <tr>\n      <th>949</th>\n      <td>10</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize Trust</td>\n      <td>2022</td>\n      <td>fiction</td>\n      <td>182</td>\n      <td>shortlisted</td>\n      <td>Shipstead</td>\n      <td>Maggie</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Non-UK White</td>\n      <td>White American</td>\n      <td>Masters</td>\n      <td>University of Iowa</td>\n      <td>Writing</td>\n      <td>Creative Writing</td>\n      <td>231972795</td>\n      <td>296</td>\n      <td>Great Circle</td>\n    </tr>\n    <tr>\n      <th>950</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>2022</td>\n      <td>fiction</td>\n      <td>176</td>\n      <td>shortlisted</td>\n      <td>Strout</td>\n      <td>Elizabeth</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Non-UK White</td>\n      <td>White American</td>\n      <td>Masters</td>\n      <td>Royal College of Art</td>\n      <td>unknown</td>\n      <td>unknown</td>\n      <td>66631918</td>\n      <td>316</td>\n      <td>Oh William!</td>\n    </tr>\n    <tr>\n      <th>951</th>\n      <td>12</td>\n      <td>BSFA Award for Best Novel</td>\n      <td>BSFA Award for Best Novel</td>\n      <td>British Science Fiction Association</td>\n      <td>2022</td>\n      <td>sff</td>\n      <td>491</td>\n      <td>winner</td>\n      <td>Tchaikovsky</td>\n      <td>Adrian</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>British</td>\n      <td>Bachelors</td>\n      <td>University of Reading</td>\n      <td>Maths and Sciences</td>\n      <td>Zoology and Psychology</td>\n      <td>102929550</td>\n      <td>627</td>\n      <td>City of Last Chances</td>\n    </tr>\n  </tbody>\n</table>\n<p>952 rows × 23 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {#cb007a6d .cell execution_count=4}\n``` {.python .cell-code}\nprizes['prize_genre']=prizes['prize_genre'].str.capitalize()\n```\n:::\n\n\n::: {#0e6759e3 .cell execution_count=5}\n``` {.python .cell-code}\nprizes.groupby(['prize_genre','highest_degree']).count()['prize_name'].sort_values(ascending=False)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\nprize_genre         highest_degree          \nFiction             Bachelors                   147\n                    Masters                     144\n                    unknown                      75\nNon-fiction         Doctorate                    59\nFiction             Doctorate                    52\nCrime               unknown                      46\nPoetry              Bachelors                    43\nNon-fiction         unknown                      33\n                    Bachelors                    30\nCrime               Bachelors                    30\nPoetry              unknown                      25\nFiction             none                         24\nPoetry              Masters                      23\n                    Doctorate                    19\nNo/any/multi genre  Bachelors                    17\nNon-fiction         Masters                      15\nChildren's          unknown                      14\nCrime               Masters                      12\nSff                 unknown                      12\nBiography           unknown                      11\nCrime               none                         10\nChildren's          Bachelors                    10\nPoetry              none                          9\nBiography           Bachelors                     9\nCrime               Doctorate                     9\nSff                 Masters                       7\nNo/any/multi genre  unknown                       7\nBiography           Doctorate                     7\nSff                 Bachelors                     6\n                    Doctorate                     5\nDrama               unknown                       4\n                    Bachelors                     4\nNo/any/multi genre  Doctorate                     4\nNon-fiction         none                          3\nChildren's          Masters                       3\nSff                 none                          3\nFiction             Postgraduate                  3\nChildren's          Doctorate                     2\nBiography           Masters                       2\nNo/any/multi genre  Masters                       2\nFiction             Juris Doctor                  2\nBiography           Diploma                       1\nChildren's          Postgraduate                  1\nBiography           Postgraduate                  1\nPoetry              MD                            1\n                    Postgraduate                  1\nBiography           Juris Doctor                  1\nNon-fiction         Juris Doctor                  1\nChildren's          none                          1\nNo/any/multi genre  none                          1\nFiction             Certificate of Education      1\nName: prize_name, dtype: int64\n```\n:::\n:::\n\n\n::: {#a52230b2 .cell execution_count=6}\n``` {.python .cell-code}\nprizes.groupby(['degree_field_category']).count()['prize_name'].sort_values(ascending=False)\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\ndegree_field_category\nLanguage and Literature         272\nunknown                         265\nWriting                         114\nHistory and Cultural Studies     72\nnone                             51\nArts                             40\nMaths and Sciences               34\nMultiple                         30\nPolitics and Economics           27\nPhilosophy and Theology          24\nLaw                              17\nMedicine and Social Work          5\nEducation                         1\nName: prize_name, dtype: int64\n```\n:::\n:::\n\n\n::: {#04ae4895 .cell execution_count=7}\n``` {.python .cell-code}\ndf = prizes[(~prizes[\"degree_field_category\"].isin(['unknown','none'])) & (prizes[\"highest_degree\"].isin(['Bachelors','Masters', 'Doctorate']))]\ndf\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>prize_id</th>\n      <th>prize_alias</th>\n      <th>prize_name</th>\n      <th>prize_institution</th>\n      <th>prize_year</th>\n      <th>prize_genre</th>\n      <th>person_id</th>\n      <th>person_role</th>\n      <th>last_name</th>\n      <th>first_name</th>\n      <th>...</th>\n      <th>uk_residence</th>\n      <th>ethnicity_macro</th>\n      <th>ethnicity</th>\n      <th>highest_degree</th>\n      <th>degree_institution</th>\n      <th>degree_field_category</th>\n      <th>degree_field</th>\n      <th>viaf</th>\n      <th>book_id</th>\n      <th>book_title</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>1991</td>\n      <td>Fiction</td>\n      <td>294</td>\n      <td>shortlisted</td>\n      <td>Amis</td>\n      <td>Martin</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>Bachelors</td>\n      <td>University of Oxford</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>36913662</td>\n      <td>5</td>\n      <td>Time's Arrow</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>1991</td>\n      <td>Fiction</td>\n      <td>286</td>\n      <td>shortlisted</td>\n      <td>Doyle</td>\n      <td>Roddy</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Irish</td>\n      <td>Irish</td>\n      <td>Bachelors</td>\n      <td>University College Dublin</td>\n      <td>Multiple</td>\n      <td>English and Geography</td>\n      <td>17301306</td>\n      <td>77</td>\n      <td>The Van</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>4</td>\n      <td>Costa Novel Award</td>\n      <td>Whitbread Novel</td>\n      <td>Whitbread</td>\n      <td>1991</td>\n      <td>Fiction</td>\n      <td>168</td>\n      <td>winner</td>\n      <td>Gardam</td>\n      <td>Jane</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>Bachelors</td>\n      <td>University of London</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>70213168</td>\n      <td>114</td>\n      <td>The Queen of the Tambourine</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>6</td>\n      <td>Costa Poetry Award</td>\n      <td>Whitbread Poetry</td>\n      <td>Whitbread</td>\n      <td>1991</td>\n      <td>Poetry</td>\n      <td>169</td>\n      <td>winner</td>\n      <td>Longley</td>\n      <td>Michael</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>Northern Irish</td>\n      <td>Bachelors</td>\n      <td>Trinity College, Dublin</td>\n      <td>Language and Literature</td>\n      <td>Classics</td>\n      <td>39398205</td>\n      <td>182</td>\n      <td>Gorse Fires</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>8</td>\n      <td>Booker Prize</td>\n      <td>Booker Prize</td>\n      <td>Booker Foundation</td>\n      <td>1991</td>\n      <td>Fiction</td>\n      <td>260</td>\n      <td>shortlisted</td>\n      <td>Mistry</td>\n      <td>Rohinton</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Asian</td>\n      <td>Indian Canadian</td>\n      <td>Bachelors</td>\n      <td>Bombay University/University of Toronto</td>\n      <td>Multiple</td>\n      <td>Mathematics and Economics/English and Philosophy</td>\n      <td>29581388</td>\n      <td>225</td>\n      <td>Such a Long Journey</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>944</th>\n      <td>10</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize Trust</td>\n      <td>2022</td>\n      <td>Fiction</td>\n      <td>221</td>\n      <td>winner</td>\n      <td>Ozeki</td>\n      <td>Ruth</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Asian</td>\n      <td>Japanese American</td>\n      <td>Bachelors</td>\n      <td>Smith College</td>\n      <td>Language and Literature</td>\n      <td>English Literature and Asian Studies</td>\n      <td>79458623</td>\n      <td>371</td>\n      <td>The Book of Form &amp; Emptiness</td>\n    </tr>\n    <tr>\n      <th>946</th>\n      <td>16</td>\n      <td>Baillie Gifford Prize for Non-Fiction</td>\n      <td>Baillie Gifford Prize for Non-Fiction</td>\n      <td>Samuel Johnson Prize for Non-Fiction Limited</td>\n      <td>2022</td>\n      <td>Non-fiction</td>\n      <td>58</td>\n      <td>winner</td>\n      <td>Rundell</td>\n      <td>Katherine</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>English</td>\n      <td>Doctorate</td>\n      <td>University of Oxford</td>\n      <td>Language and Literature</td>\n      <td>English Literature</td>\n      <td>163169611</td>\n      <td>759</td>\n      <td>Super-Infinite: The Transformations of John Donne</td>\n    </tr>\n    <tr>\n      <th>947</th>\n      <td>10</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize Trust</td>\n      <td>2022</td>\n      <td>Fiction</td>\n      <td>192</td>\n      <td>shortlisted</td>\n      <td>Shafak</td>\n      <td>Elif</td>\n      <td>...</td>\n      <td>True</td>\n      <td>Non-UK White</td>\n      <td>Turkish British</td>\n      <td>Doctorate</td>\n      <td>Middle East Technical University</td>\n      <td>Politics and Economics</td>\n      <td>Political Science</td>\n      <td>64320935</td>\n      <td>367</td>\n      <td>The Island of Missing Trees</td>\n    </tr>\n    <tr>\n      <th>949</th>\n      <td>10</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize for Fiction</td>\n      <td>Women's Prize Trust</td>\n      <td>2022</td>\n      <td>Fiction</td>\n      <td>182</td>\n      <td>shortlisted</td>\n      <td>Shipstead</td>\n      <td>Maggie</td>\n      <td>...</td>\n      <td>False</td>\n      <td>Non-UK White</td>\n      <td>White American</td>\n      <td>Masters</td>\n      <td>University of Iowa</td>\n      <td>Writing</td>\n      <td>Creative Writing</td>\n      <td>231972795</td>\n      <td>296</td>\n      <td>Great Circle</td>\n    </tr>\n    <tr>\n      <th>951</th>\n      <td>12</td>\n      <td>BSFA Award for Best Novel</td>\n      <td>BSFA Award for Best Novel</td>\n      <td>British Science Fiction Association</td>\n      <td>2022</td>\n      <td>Sff</td>\n      <td>491</td>\n      <td>winner</td>\n      <td>Tchaikovsky</td>\n      <td>Adrian</td>\n      <td>...</td>\n      <td>True</td>\n      <td>White British</td>\n      <td>British</td>\n      <td>Bachelors</td>\n      <td>University of Reading</td>\n      <td>Maths and Sciences</td>\n      <td>Zoology and Psychology</td>\n      <td>102929550</td>\n      <td>627</td>\n      <td>City of Last Chances</td>\n    </tr>\n  </tbody>\n</table>\n<p>580 rows × 23 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {#41fb9df7 .cell execution_count=8}\n``` {.python .cell-code}\n#fix,ax = plt.subplots(figsize=(10,5))\nsns.catplot(data=df, \\\n            x='prize_year', y='prize_genre', hue='gender', dodge=True, kind='strip', \\\n            col='highest_degree', col_wrap=2, aspect=2, legend=False, jitter=True, size=10)\n```\n\n::: {.cell-output .cell-output-display}\n![](British_lit_prizes_files/figure-html/cell-9-output-1.png){}\n:::\n:::\n\n\n::: {#7680ab4f .cell execution_count=9}\n``` {.python .cell-code}\npivot_table = df.pivot_table(\n    index='prize_genre',\n    columns='highest_degree',\n    values='prize_name',\n    aggfunc='count',\n    fill_value=0\n)\n```\n:::\n\n\n::: {#aa4e1b85 .cell execution_count=10}\n``` {.python .cell-code}\nplt.figure(figsize=(8, 5))\nsns.heatmap(pivot_table, annot=True, fmt='d', cmap='YlGnBu', linewidths=0.5)\n#plt.title('Tile Plot of Prizes by Degree Field and Degree Level')\n#plt.xlabel('Highest Degree')\n#plt.ylabel('Degree Field Category')\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](British_lit_prizes_files/figure-html/cell-11-output-1.png){}\n:::\n:::\n\n\n::: {#a66d1836 .cell execution_count=11}\n``` {.python .cell-code}\nprizes['degree'] = prizes['highest_degree'].apply(lambda x: x if x in ['Bachelors', 'Masters', 'Doctorate'] else 'Others')\nprizes['gender_new'] = prizes['gender'].apply(lambda x: x if x in ['man', 'woman'] else 'NB')\n```\n:::\n\n\n::: {#0d6f6fac .cell execution_count=12}\n``` {.python .cell-code}\ndf1= (prizes.groupby(['prize_genre', 'degree', 'gender_new']).count()['prize_id'].reset_index())\ndf1['degree_gender'] = df1['degree']+'_'+df1['gender_new']\ndf1\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>prize_genre</th>\n      <th>degree</th>\n      <th>gender_new</th>\n      <th>prize_id</th>\n      <th>degree_gender</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Biography</td>\n      <td>Bachelors</td>\n      <td>man</td>\n      <td>3</td>\n      <td>Bachelors_man</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Biography</td>\n      <td>Bachelors</td>\n      <td>woman</td>\n      <td>6</td>\n      <td>Bachelors_woman</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Biography</td>\n      <td>Doctorate</td>\n      <td>man</td>\n      <td>5</td>\n      <td>Doctorate_man</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Biography</td>\n      <td>Doctorate</td>\n      <td>woman</td>\n      <td>2</td>\n      <td>Doctorate_woman</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Biography</td>\n      <td>Masters</td>\n      <td>man</td>\n      <td>1</td>\n      <td>Masters_man</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>67</th>\n      <td>Sff</td>\n      <td>Doctorate</td>\n      <td>woman</td>\n      <td>1</td>\n      <td>Doctorate_woman</td>\n    </tr>\n    <tr>\n      <th>68</th>\n      <td>Sff</td>\n      <td>Masters</td>\n      <td>man</td>\n      <td>5</td>\n      <td>Masters_man</td>\n    </tr>\n    <tr>\n      <th>69</th>\n      <td>Sff</td>\n      <td>Masters</td>\n      <td>woman</td>\n      <td>2</td>\n      <td>Masters_woman</td>\n    </tr>\n    <tr>\n      <th>70</th>\n      <td>Sff</td>\n      <td>Others</td>\n      <td>man</td>\n      <td>12</td>\n      <td>Others_man</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>Sff</td>\n      <td>Others</td>\n      <td>woman</td>\n      <td>3</td>\n      <td>Others_woman</td>\n    </tr>\n  </tbody>\n</table>\n<p>72 rows × 5 columns</p>\n</div>\n```\n:::\n:::\n\n\n::: {#8b37a339 .cell execution_count=13}\n``` {.python .cell-code}\nreshaped = df1.pivot_table(\n    index='prize_genre',\n    columns='degree_gender',\n    values='prize_id',\n    aggfunc='sum',  # or 'count' if you want number of entries\n    fill_value=0\n).reset_index()\nreshaped = reshaped.set_index('prize_genre')\n```\n:::\n\n\n::: {#8bcfc24c .cell execution_count=14}\n``` {.python .cell-code}\nind = prizes.groupby(['prize_genre']).count()['prize_name'].sort_values(ascending=False).index\nreshaped.columns\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```\nIndex(['Bachelors_NB', 'Bachelors_man', 'Bachelors_woman', 'Doctorate_NB',\n       'Doctorate_man', 'Doctorate_woman', 'Masters_NB', 'Masters_man',\n       'Masters_woman', 'Others_NB', 'Others_man', 'Others_woman'],\n      dtype='object', name='degree_gender')\n```\n:::\n:::\n\n\n::: {#09f1b47e .cell execution_count=15}\n``` {.python .cell-code}\nreshaped1 = reshaped[['Bachelors_man', 'Bachelors_woman', 'Masters_man', 'Masters_woman',\n       'Doctorate_man', 'Doctorate_woman', 'Others_man', 'Others_woman']]\nreshaped1 = reshaped1.reindex(ind)\nreshaped1.index = reshaped1.index.str.replace('Sff', 'Sci-Fi and Fantasy')\n```\n:::\n\n\n::: {#a17ec565 .cell execution_count=16}\n``` {.python .cell-code}\nbg_color = '#DBD4FF'\nfg_color = '#723480'\nfg_color2 = '#FFFFE3'\n\nlw=5\ncmap = sns.color_palette(\"Wistia\", as_cmap=True)\ncmap.set_under('#FFFFE3')  \n\nfig1,ax1 = plt.subplots()\nsns.heatmap(reshaped1, annot=True, fmt='d', cmap=cmap, cbar=False, \\\n            linewidths=lw, ax=ax1,vmin=0.1, annot_kws={\"fontfamily\": \"monospace\"}, \\\n            cbar_kws={'shrink': 0.6, 'aspect': 30, 'pad': 0.02})\nfig1.set_facecolor(bg_color)\nax1.set_facecolor(bg_color)\nax1.patch.set_facecolor(bg_color)\n\nax_top = ax1.twiny()\n\n# Match the position and scale of the bottom axis\nax_top.set_xlim(ax1.get_xlim())\n\nax_top.set_xticks(ax1.get_xticks())\nax_top.set_xticklabels(['M', 'W']*4, fontsize=9)\n\nfor i in range(0, len(reshaped1.columns)+1):  \n    if(i % 2 == 0):\n        ax1.vlines(i, *ax1.get_ylim(), colors=bg_color, linewidth=lw)\n    else:\n        ax1.vlines(i, *ax1.get_ylim(), colors=fg_color2, linewidth=lw)\nfor i in range(0, len(reshaped1.index)+1):  \n    ax1.hlines(i, *ax1.get_xlim(), colors=bg_color, linewidth=lw)\n\nxticklabels = ax1.get_xticklabels()\nnew_labels = [label._text.split('_')[0] if i % 2 == 0 else '' for i, label in enumerate(xticklabels)]\n\n# Apply the new labels\nax1.set_xticklabels(new_labels, rotation=0, ha='left', fontsize=10)\nax1.tick_params(axis='both', which='both', length=0)\nax_top.tick_params(axis='both', which='both', length=0, pad=0)\nax1.set_xlabel('')\nax1.set_ylabel('')\n#colorbar = ax1.collections[0].colorbar\n#colorbar.ax.tick_params(labelsize=10)\nfor label in ax1.get_xticklabels()+ax_top.get_xticklabels():\n    label.set_fontfamily('monospace')\n    label.set_color(fg_color)\nfor label in ax1.get_yticklabels():\n    label.set_fontfamily('monospace')\n    label.set_color(fg_color)\nsns.despine(left=True,bottom=True)    \n#plt.tight_layout()\nplt.title(\"Genre-wise distribution of the British literary prizes \\nbased on the highest degree and gender of the authors.\", fontfamily='Serif', fontsize=16, color=fg_color, loc='left', x=-0.3, y=1.07)\nplt.savefig('British_prize.png', dpi=300, bbox_inches='tight')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](British_lit_prizes_files/figure-html/cell-17-output-1.png){}\n:::\n:::\n\n\n",
    "supporting": [
      "British_lit_prizes_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}